<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>{{ challenge.name }} - CTF</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet">
		<style>
			:root{--bg:#05060a;--muted:rgba(200,220,240,0.65);--neon:#7bf6ff;--accent:#7c5cff}
			body{min-height:100vh;background:linear-gradient(180deg,#05060a,#071022);color:#eaf6ff;font-family:Inter,system-ui,Arial;margin:0}
			.wrap{padding:2.5rem}
			.card-glass{background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(124,92,255,0.08);backdrop-filter:blur(6px);border-radius:12px;color:#eaf6ff}
			.flag-input{background:transparent;border:1px solid rgba(255,255,255,0.08);color:#eaf6ff;padding:.85rem;border-radius:10px}
			.flag-input::placeholder{color:rgba(235,245,255,0.45)}
			.submit-btn{background:linear-gradient(90deg,#7bf6ff,#7c5cff);color:#05060a;border:none;padding:.65rem 1rem;border-radius:10px}
			.submit-btn.loading{opacity:.8;transform:scale(.995)}
			.text-muted{color:rgba(210,225,240,0.68) !important}
		</style>
	</head>
	<body>
		<nav class="py-3 px-4" style="background:transparent">
			<div class="d-flex justify-content-between align-items-center">
				<a href="/dashboard" style="color:var(--neon);font-family:Orbitron,Inter;font-weight:600;text-decoration:none">&larr; Back to Dashboard</a>
				<div class="text-muted">Challenge</div>
			</div>
		</nav>

		<main class="container wrap">
			<div class="row justify-content-center">
				<div class="col-lg-8">
					<div class="card card-glass p-4 mb-3">
						<h3 class="mb-2">{{ challenge.name }}</h3>
						<div class="text-muted small mb-3">Challenge description</div>
						<div class="mb-3" style="line-height:1.5;color:#dbeefd">{{ challenge.description }}</div>
					</div>

					<div class="card card-glass p-4">
						<h5 class="mb-3">Submit Flag</h5>
						<form method="POST" action="">
							<div class="mb-3">
								<input name="flag" class="form-control flag-input" placeholder="flag{your_flag_here}" required>
							</div>
							<div class="d-flex align-items-center">
								<button id="submitFlag" class="submit-btn">Submit Flag</button>
								<div id="flagMsg" class="ms-3 text-muted small"></div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</main>

		<script>
			const form = document.querySelector('form');
			const btn = document.getElementById('submitFlag');
			form.addEventListener('submit', function(e){
				btn.disabled = true; btn.classList.add('loading'); btn.innerText='Submitting...';
			});
		</script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	</body>
</html>
