<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Leaderboard - CTF</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
      :root{--bg:#05060a;--muted:rgba(200,220,240,0.65);--neon:#7bf6ff;--table-row:rgba(255,255,255,0.02)}
      body{min-height:100vh;background:linear-gradient(180deg,#05060a,#071022);color:#eaf6ff;font-family:Inter,system-ui,Arial;margin:0}
      .wrap{padding:2.5rem}
      .card-glass{background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(124,92,255,0.08);backdrop-filter:blur(6px);border-radius:12px;color:#eaf6ff}
      .muted{color:var(--muted)}
      .rank{font-family:Orbitron,Inter,system-ui;color:var(--neon);font-weight:700}

      /* Dark-themed table to replace Bootstrap white background */
      .table-light-theme{background:transparent;color:#eaf6ff}
      /* Override Bootstrap's default white cell backgrounds */
      .table-light-theme, .table-light-theme thead, .table-light-theme tbody, .table-light-theme tr, .table-light-theme th, .table-light-theme td{background:transparent !important}
      .table-light-theme thead th{color:rgba(191,239,255,0.98);background:transparent;border-bottom:1px solid rgba(255,255,255,0.04);padding:.9rem 1rem}
      .table-light-theme tbody tr{border-bottom:1px solid rgba(255,255,255,0.03)}
      .table-light-theme tbody tr:nth-child(odd){background:rgba(255,255,255,0.01)}
      .table-light-theme td, .table-light-theme th{color:#dff6ff;padding:.9rem 1rem;vertical-align:middle}
      .table-light-theme td.text-end{color:#dff6ff}
      .table-light-theme .rank{color:var(--neon);font-weight:700}
    </style>
  </head>
  <body>
    <nav class="py-3 px-4" style="background:transparent">
      <div class="d-flex justify-content-between align-items-center">
        <a href="/dashboard" style="color:var(--neon);font-family:Orbitron,Inter;font-weight:600;text-decoration:none">&larr; Dashboard</a>
        <div class="text-muted">Leaderboard</div>
      </div>
    </nav>

    <main class="container wrap">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="card card-glass p-4">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h4 class="mb-0">Leaderboard</h4>
                <div class="muted small">Top scorers</div>
              </div>
              <div class="text-muted small">Total users: {{ users|length }}</div>
            </div>

            <div class="table-responsive">
              <table class="table table-borderless table-light-theme mb-0">
                <thead>
                  <tr>
                    <th style="width:60px">#</th>
                    <th>Username</th>
                    <th class="text-end">Score</th>
                  </tr>
                </thead>
                <tbody>
                  {% for u in users %}
                  <tr>
                    <td class="align-middle"><span class="rank">{{ loop.index }}</span></td>
                    <td class="align-middle">{{ u.username }}</td>
                    <td class="align-middle text-end">{{ u.score }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>

          </div>
        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
